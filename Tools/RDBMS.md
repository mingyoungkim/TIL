# 관계형 데이터베이스 (pk, INDEX)

데이터베이스: 데이터를 모아두는 곳

사람들이 원하는 자료를 쉽게 찾아 볼 수 있게 하기 위해서

## 찾아볼 자료

- B 계열 트리들 :rage::rage::rage::rage::rage:
- 옵티마이저
- 풀스캔
- db lock - tcl

## 관계형 데이터베이스

- key, value 식별이 가능하도록 => col, row
- 테이블 간 데이터가 1:1, 1:n, n:m
- 각 테이블 간의 key를 통해 서로를 연결한다.

> 행과 열을 통해서 구성이 되면 단순 컬럼이 키가 아니라 다중 칼럼이 키가 될 수 있다.

## PK

- 다른 항목과 중복되어 나타날 수 없는 단일값
- 다중 컬럼을 PK 로 설정할 수 있다.
- 관계형을 만들 수 있는 중요한 정보
- 정확하고 빠르게

## PK와 인덱스

PK 생성 -> 인덱스 생성

PK 삭제 -> 인덱스 삭제

## 인덱스:

데이터베이스 테이블의 검색속도를 향상시키기 위한 자료구조

- 테이블을 대한 동작의 속도를 높여주는 자료구조
- IndexexTable 이라고 한다. 테이블의 한 종류
- PK 아니라도 적용할 수 있다

## 데이터베이스 객체

- 데이터베이스 내에 존재하는 논리적인 저장 구조
- Table, View, synonym, sequence
- DDL 로 생성 수정 및 삭제 가능

## SQL

데이터베이스에서 사용되는 언어

DML: SELECT, INSERT, DELETE

DDL: CREATE DROP

DCL: GRANT, REVOKE

TCL: COMMIT, ROLLBACK

## index 동작

- pointer
- hash
- B+ tree

> 테이블 데이터가 100만건이면 조회하는데 오래 걸리지 않나요?
>
> index 란 DB 자료 구조를 통해 빠르게 조회
>
> 그러면 인덱스를 많이 만들어 두면 되겠네요
>
> 인덱스를 잘못 관리하면 오히려 성능이 저하될 수 있습니다.

## 인덱스를 활용하면 안되는 경우

- DELETE, UPDATE 가 자주 일어나는 경우

## 인덱스의 장점

- 테이블을 조회하는 속도 성능 향상
- 시스템의 부하를 줄일 수 있다.
- 원하는 데이터를 빠르게 찾을 수 있다.

## 인덱스의 단점

- DB 저장 공간을 차지한다
- 인덱스를 관리하기 위한 작업이 필요하다
- 잘못 사용할 경우 성능이 저하될 수 있다.

## 인덱스를 잘 쓰려면

- Where 조건 작성시 Index 를 적용할 수 있는 컬럼조건에 상단에 작성한다.
- Index 로 사용된 칼럼은 칼럼값 그대로 사용해야 한다.
- Between, like <> 등 범위 조건 뒤의 Index 들을 적용되 지 않으니 가장 마지막에 활용

## 쿼리 성능을 향상시키려면

- Table 생성시 PK, index 구축
- 같은 결과를 출력하더라도 최적화된 쿼리를 작성해야 ㅎㄴ다.
- Table Join 순서 Driving, Driven옵티마이저쿼리 튜닝쿼리 플랜